# Copyright (c) 2013-2014 Silke Horn
# http://solros.de/polymake/poly_db
# 
# This file is part of the polymake extension poly_db.
# 
# poly_db is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
# 
# poly_db is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
# 
# You should have received a copy of the GNU General Public License
# along with poly_db.  If not, see <http://www.gnu.org/licenses/>.

CREDIT poly_db

use MongoDB;
use MongoDB::OID;


object DatabaseCursor {

	# The hostname of the database, default 'polymake.org'. (Functionality not implemented yet.)
	property HOST : String;
	
	# The port of the database, default 27017.  (Functionality not implemented yet.)
	property PORT : Int;
	
	# The name of the authentication database, default 'admin'.  (Functionality not implemented yet.)
	property AUTH_DB : String;

	# The name of the type database, default 'pm'.  (Functionality not implemented yet.)
	property TYPE_DB : String;

	# Your user name, default 'polymake'.
	property USER_NAME : String;

	# Your password, default 'database'.
	property PASSWORD : String;

	# The name of the database the cursor accesses. Needed for initialization.
	property DATABASE : String;
	
	# The name of the collection the cursor accesses. Needed for initialization.
	property COLLECTION : String;


	# The query.
	property QUERY : HASH;


	# The type of the objects in the [[COLLECTION]]. Will be created automatically.
	property TYPE : String;
	
	# The application of the objects in the [[COLLECTION]]. Will be created automatically.
	property APP : String;

	# The number of objects matching [[QUERY]].
	property COUNT : Int;

	# Set this to 1 if you want to access a local database server. (Functionality not implemented yet.)
	property LOCAL : Bool;


	# The actual MongoCursor. The "heart" of this object. Will be created automatically.
	property CURSOR : SCALAR;


	# Specify how you want to sort the objects. Use 1 for ascending and -1 for descending order.
	# 
	# E.g. if you want to sort ascending by [[_id]] do SORT_BY => {"_id"=> 1}, if you want to sort descending by number of vertices do SORT_BY => {"N_VERTICES" => -1}.
	property SORT_BY : HASH;


	# Skip the first elements, default 0.
	property SKIP : Int;

}